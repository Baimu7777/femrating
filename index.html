<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>å™äº‹ä¹¦ç±è¯„åˆ† Â· 3.0</title>
  <link rel="icon" href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ğŸ“‹</text></svg>">
  <link rel="stylesheet" href="./styles.css" />

  <!-- html2canvas for JPG export -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <script>
    window.PAGE_CONFIG = {
      type: "narrative",
      questionSet: "narrative",
      pageTitle: "å™äº‹ä¹¦ç±è¯„åˆ† Â· 3.0",
      pageSubtitle: "ï¼ˆè™šæ„/çºªå®å™äº‹ä½œå“ï¼‰",
      entityLabel: "ä¹¦å",
      storageKey: "rating_state_narrative_v1",
      nameKey: "rating_name_narrative_v1",
      linkKey: "rating_link_narrative_v1",
      exportBrand: "å¥³æ€§å‹å¥½åº¦æ‰“åˆ†",
      exportSource: "æ‰“åˆ†è¡¨æ ¼æ¥æºï¼šè±†ç“£å°ç»„ Â· é­”å¥³æ¸¸æœºé˜Ÿ"
    };
  </script>
</head>
<body class="rating-page">
  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="title" id="topTitle">å™äº‹ä¹¦ç±è¯„åˆ† Â· 3.0</div>
        <div class="subtitle" id="topSubtitle">ï¼ˆè™šæ„/çºªå®å™äº‹ä½œå“ï¼‰</div>
      </div>
      <nav class="navtabs">
        <a class="active" href="./">å™äº‹ä¹¦ç±</a>
        <a href="./socsci/">ç¤¾ç§‘ä¹¦ç±</a>
        <a href="./film/">å½±è§†</a>
        <a href="./db/">æ‰“åˆ†åº“</a>
      </nav>
    </div>
  </header>

  <!-- Mobile: entity card shown at top -->
  <div class="mobile-top-toggle">
    <div class="mobile-toggle-inner">
      <div class="mobile-toggle-left">
        <label style="display:flex;align-items:center;gap:8px;">
          <input id="toggleRemarksTop" type="checkbox" checked />
          <span>æ˜¾ç¤ºè¯„å®šè¯´æ˜</span>
        </label>
      </div>
      <button id="btnResetTop" class="mobile-reset" type="button">æ¸…ç©º</button>
    </div>
  </div>

  <div class="mobile-entity-host">
    <div class="card entity-card">
      <div class="label">ä¹¦å</div>
      <input id="entityName" type="text" placeholder="ä¸é¢„å¡«ï¼Œæ‰‹åŠ¨å¡«å†™" />
      <div class="label" style="margin-top:10px;">é“¾æ¥ï¼ˆå¯é€‰ï¼‰</div>
      <input id="entityLink" type="text" placeholder="ä¸é¢„å¡«ï¼Œæ‰‹åŠ¨å¡«å†™" />
      <div class="hint">åç§°ä¸é“¾æ¥ä¸ä¼šè‡ªåŠ¨é¢„å¡«å†™ã€‚</div>
    </div>
  </div>

  <div class="app">
    <main class="main" id="mainScroll">
      <div id="content"></div>
    </main>

    <aside class="side" id="sideScroll">
      <div class="source-note"></div>

      <div class="card" style="margin-bottom:12px;">
        <table>
          <tbody id="summaryBody"></tbody>
        </table>
      </div>

      <div class="card entity-card">
        <div class="label">ä¹¦å</div>
        <input id="entityName" type="text" placeholder="ä¸é¢„å¡«ï¼Œæ‰‹åŠ¨å¡«å†™" />
        <div class="label" style="margin-top:10px;">é“¾æ¥ï¼ˆå¯é€‰ï¼‰</div>
        <input id="entityLink" type="text" placeholder="ä¸é¢„å¡«ï¼Œæ‰‹åŠ¨å¡«å†™" />
        <div class="hint">åç§°ä¸é“¾æ¥ä¸ä¼šè‡ªåŠ¨é¢„å¡«å†™ã€‚</div>
      </div>

      <div class="toggle">
        <input id="toggleRemarks" type="checkbox" checked />
        <label for="toggleRemarks">æ˜¾ç¤ºè¯„å®šè¯´æ˜</label>
      </div>

      <div class="side-actions">
        <button id="btnReset" type="button">æ¸…ç©º</button>
        <button id="btnExportJpg" type="button">å¯¼å‡ºJPG</button>
        <button id="btnExportJpgMulti" type="button">åˆ†4å¼ å¯¼å‡º</button>
      </div>

      <div id="qGrid" class="grid"></div>
    </aside>
  </div>

  <script src="./questions.js"></script>
  <script src="./rating.js"></script>
</body>
</html>
